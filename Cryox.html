<template name="layout">
    <head>
        <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
        <title>CRYOX</title>
    </head>

    <span style="opacity: .25; position: fixed; z-index: -99; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <img style="-webkit-filter: blur(5px);" src="/image/logo.png">
    </span>

    {{> yield}}
</template>

<template name="progress">
    <div class="prog">
        <ul>
            {{#each indicators}}
                <li class="{{active}}">{{ name }}</li>
            {{/each}}
        </ul>
    </div>
</template>

<template name="today">
    <p style="padding-bottom: 2em; border-bottom: 1px solid white;">
        {{today_month}} {{today.getDate}}, {{today.getFullYear}}
        <!--<span style="float: right">-->
            <!--6 MetroTech Center, Brooklyn, NY 11201-->
        <!--</span>-->
    </p>
</template>

<template name="cancel">
    <a href="{{pathFor route='start'}}">
        <button class="cancel">CANCEL</button>
    </a>
</template>

<template name="start">
    <h1><span style="color: #cfe2f3">CRYO</span>X</h1>
    <p><small>For All Your Freezing Needs&trade;</small></p>
    <div class="instructions">
        <div class="section group">
            <div class="col span_1_of_3">
                <h1>1</h1>
                <p>
                    Choose your destination and wake-up time, and make your payment.
                </p>
                <img src="image/instructions_1.png" height="128">
            </div>
            <div class="col span_1_of_3">
                <h1>2</h1>
                <p>
                    Enter the CRYOX and get your freeze on.
                </p>
                <img src="image/instructions_2.png" height="128">
            </div>
            <div class="col span_1_of_3">
                <h1>3</h1>
                <p>
                    We'll pick you up and keep you at one of our facilities until it's time to wake up.
                </p>
                <img src="image/instructions_3.png" height="128">
            </div>
        </div>
    </div>
    <div>
        <a href="{{pathFor route='destination'}}">
            <button class="big pulsate">START</button>
        </a>
    </div>
    <h1><span style="color: #cfe2f3">{{numFrozen}}</span> people</h1>
    <p>Have been successfully frozen by this kiosk!</p>
    <div style="position: fixed; bottom: 1em; left: 50%; transform: translate(-50%);">
        <small>(This is a Semi-Functional Demo)</small>
    </div>
</template>

<template name="destination">
    {{> today}}
    {{> progress}}

    <h1>Choose A Destination</h1>
    <h2>Where would you like to go?</h2>

    <div class="form-group">
        <input id="dest" class="form-control typeahead" name="dest" type="text"
               placeholder="{{ destination }}"
               autocomplete="off" spellcheck="off"
               data-source="destinations"
               data-limit="100"/>
    </div>

    <a class="nav prev" href="{{pathFor route='start'}}">
        <div>PREV</div>
    </a>
    <a class="nav next pulsate" href="{{pathFor route='time'}}">
        <div>NEXT</div>
    </a>

    <br><br><br><br>
    <p>Map (and stats?)</p>
    <br><br><br><br>

    {{> cancel}}
</template>

<template name="time">
    {{> today}}
    {{> progress}}

    <h1>Choose A Time</h1>
    <h2>When would you like to be woken?</h2>
    <div class="form-group">
        <!--<div style="padding-bottom: 2em;">-->
            <!--<select id="day">-->
                <!--<option value="1">Monday</option>-->
                <!--<option value="2">Tuesday</option>-->
                <!--<option value="3">Wednesday</option>-->
                <!--<option value="4">Thursday</option>-->
                <!--<option value="5">Friday</option>-->
                <!--<option value="6">Saturday</option>-->
                <!--<option value="0">Sunday</option>-->
            <!--</select>-->
        <!--</div>-->
        <select id="month">
            <option value="0">January</option>
            <option value="1">February</option>
            <option value="2">March</option>
            <option value="3">April</option>
            <option value="4">May</option>
            <option value="5">June</option>
            <option value="6">July</option>
            <option value="7">August</option>
            <option value="8">September</option>
            <option value="9">October</option>
            <option value="10">November</option>
            <option value="11">December</option>
        </select>
        <input value="{{time.getDate}}" size=2 id="date"
               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
               onclick="this.setSelectionRange(0, this.value.length);"/>

        <input value="{{time.getFullYear}}" size=4 id="year"
               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
               onclick="this.setSelectionRange(0, this.value.length);"/>
        <p>AT</p>
        <input value="{{time_12hour}}" size=2 id="hours"
               onkeypress='return event.charCode >= 48 && event.charCode <= 57'
               onclick="this.setSelectionRange(0, this.value.length);"/>
        <span style="font-size: 1.5em;">:00</span>
        <select id="am_pm" data-custom-id="meridiem">
            <option value="am">AM</option>
            <option value="pm">PM</option>
        </select>
    </div>

    <a class="nav prev" href="{{pathFor route='destination'}}">
        <div>PREV</div>
    </a>
    <a class="nav next pulsate" href="{{pathFor route='review'}}">
        <div>NEXT</div>
    </a>

    {{> cancel}}
</template>

<template name="review">
    {{> today}}
    {{> progress}}

    <h1>You will be woken</h1>
    <p>IN</p>
    <a href="{{pathFor route='destination'}}">
        <button style="font-size: 1.5em;">
            {{destination}}
        </button>
    </a>
    <p>ON</p>
    <a href="{{pathFor route='time'}}">
        <button style="font-size: 1.5em;">
            {{time_month}} {{time.getDate}}, {{time.getFullYear}} at {{time_12hour}}:00 {{am_pm}}
        </button>
    </a>

    <a class="nav prev" href="{{pathFor route='time'}}">
        <div>PREV</div>
    </a>
    <a class="nav next pulsate" href="{{pathFor route='payment'}}">
        <div>NEXT</div>
    </a>

    {{> cancel}}
</template>

<template name="payment">
    {{> today}}
    {{> progress}}

    <h1>Please Scan <br> with Your [?] <br> to Pay</h1>
    <h1 style="display: none;" id="accepted">PAYMENT ACCEPTED</h1>
    <div id="img-scan" class="pulsate">
        <img src="image/scannew_forever.gif">
    </div>

    <a class="nav prev" href="{{pathFor route='review'}}">
        <div>PREV</div>
    </a>
    <a class="nav next pulsate" href="{{pathFor route='freeze'}}">
        <div>NEXT</div>
    </a>
    {{> cancel}}
</template>

<template name="freeze">
    {{> today}}
    {{> progress}}

    <h1>PLEASE STEP INSIDE</h1>
    <p>You have {{seconds}} seconds</p>

    <h2 style="margin-top: 4em;">
        Thank You for using <span style="color: #cfe2f3;">CRYO</span>X!
    </h2>
    {{> cancel}}
</template>

<template name="ticket">
    {{> today}}
    <h1>PLEASE STEP INSIDE</h1>
    <p>You have {{seconds}} seconds</p>
    <hr><br>
    <h2>You will be woken</h2>
    <p>IN</p>
    <p style="font-size: 1.5em; color: #cfe2f3;">
        Some Destination
    </p>
    <p>ON</p>
    <p style="font-size: 1.5em; color: #cfe2f3;">
        December 21, 3012 at 12:00 AM
    </p>
    <h2 style="margin-top: 4em; text-shadow: 0 0 10px;">
        Thank You for using <span style="color: #cfe2f3;">CRYO</span>X!
    </h2>
</template>

<template name="cop">
    {{> today}}
    <h2></h2>
</template>
